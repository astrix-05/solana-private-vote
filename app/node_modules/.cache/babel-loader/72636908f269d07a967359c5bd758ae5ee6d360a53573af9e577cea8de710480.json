{"ast":null,"code":"var _jsxFileName = \"/Users/astrix_05/solana-private-vote/app/src/contexts/WalletProvider.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { createContext, useContext } from 'react';\nimport { Connection } from '@solana/web3.js';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst WalletContext = /*#__PURE__*/createContext(undefined);\nexport const useWallet = () => {\n  _s();\n  const context = useContext(WalletContext);\n  if (!context) {\n    return {\n      connected: false,\n      publicKey: null,\n      connect: async () => {},\n      disconnect: async () => {},\n      connection: null\n    };\n  }\n  return context;\n};\n_s(useWallet, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const WalletProvider = ({\n  children\n}) => {\n  _s2();\n  const [publicKey, setPublicKey] = React.useState(null);\n  const [connected, setConnected] = React.useState(false);\n  const connection = React.useMemo(() => new Connection(process.env.REACT_APP_SOLANA_RPC_URL || 'https://api.devnet.solana.com', 'confirmed'), []);\n  const connect = async () => {\n    if (typeof window !== 'undefined' && window.solana) {\n      try {\n        const wallet = window.solana;\n        const response = await wallet.connect();\n        setPublicKey(response.publicKey.toString());\n        setConnected(true);\n      } catch (err) {\n        console.error('Failed to connect wallet:', err);\n      }\n    } else {\n      alert('Please install Phantom wallet from https://phantom.app/');\n    }\n  };\n  const disconnect = async () => {\n    if (typeof window !== 'undefined' && window.solana) {\n      try {\n        await window.solana.disconnect();\n        setPublicKey(null);\n        setConnected(false);\n      } catch (err) {\n        console.error('Failed to disconnect wallet:', err);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(WalletContext.Provider, {\n    value: {\n      connected,\n      publicKey,\n      connect,\n      disconnect,\n      connection\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n\n// Wallet Button Component\n_s2(WalletProvider, \"yHatY6TUSU1JcurwXYUGDJZrF9A=\");\n_c = WalletProvider;\nexport const WalletButton = () => {\n  _s3();\n  const {\n    connected,\n    publicKey,\n    connect,\n    disconnect\n  } = useWallet();\n  const formatAddress = addr => {\n    if (!addr) return '';\n    return `${addr.slice(0, 4)}...${addr.slice(-4)}`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      gap: '10px'\n    },\n    children: connected ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '8px 16px',\n          background: 'white',\n          borderRadius: '8px',\n          color: '#667eea',\n          fontSize: '14px',\n          fontWeight: '600'\n        },\n        children: formatAddress(publicKey)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: disconnect,\n        style: {\n          padding: '8px 16px',\n          background: '#ff6b6b',\n          color: 'white',\n          border: 'none',\n          borderRadius: '8px',\n          cursor: 'pointer',\n          fontSize: '14px',\n          fontWeight: '600'\n        },\n        children: \"Disconnect\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: connect,\n      style: {\n        padding: '10px 20px',\n        background: 'white',\n        color: '#667eea',\n        border: 'none',\n        borderRadius: '8px',\n        cursor: 'pointer',\n        fontSize: '16px',\n        fontWeight: '600',\n        boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n      },\n      children: \"Connect Wallet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n};\n_s3(WalletButton, \"pEC2aNQ5LXw/ta0pcximIdH461Q=\", false, function () {\n  return [useWallet];\n});\n_c2 = WalletButton;\nvar _c, _c2;\n$RefreshReg$(_c, \"WalletProvider\");\n$RefreshReg$(_c2, \"WalletButton\");","map":{"version":3,"names":["React","createContext","useContext","Connection","jsxDEV","_jsxDEV","Fragment","_Fragment","WalletContext","undefined","useWallet","_s","context","connected","publicKey","connect","disconnect","connection","WalletProvider","children","_s2","setPublicKey","useState","setConnected","useMemo","process","env","REACT_APP_SOLANA_RPC_URL","window","solana","wallet","response","toString","err","console","error","alert","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","WalletButton","_s3","formatAddress","addr","slice","style","display","alignItems","gap","padding","background","borderRadius","color","fontSize","fontWeight","onClick","border","cursor","boxShadow","_c2","$RefreshReg$"],"sources":["/Users/astrix_05/solana-private-vote/app/src/contexts/WalletProvider.tsx"],"sourcesContent":["import React, { createContext, useContext, ReactNode } from 'react';\nimport { Connection } from '@solana/web3.js';\n\ninterface WalletContextType {\n  connected: boolean;\n  publicKey: string | null;\n  connect: () => Promise<void>;\n  disconnect: () => Promise<void>;\n  connection: Connection | null;\n}\n\nconst WalletContext = createContext<WalletContextType | undefined>(undefined);\n\nexport const useWallet = () => {\n  const context = useContext(WalletContext);\n  if (!context) {\n    return {\n      connected: false,\n      publicKey: null,\n      connect: async () => {},\n      disconnect: async () => {},\n      connection: null\n    };\n  }\n  return context;\n};\n\ninterface WalletProviderProps {\n  children: ReactNode;\n}\n\nexport const WalletProvider: React.FC<WalletProviderProps> = ({ children }) => {\n  const [publicKey, setPublicKey] = React.useState<string | null>(null);\n  const [connected, setConnected] = React.useState(false);\n  const connection = React.useMemo(\n    () => new Connection(\n      process.env.REACT_APP_SOLANA_RPC_URL || 'https://api.devnet.solana.com',\n      'confirmed'\n    ),\n    []\n  );\n\n  const connect = async () => {\n    if (typeof window !== 'undefined' && (window as any).solana) {\n      try {\n        const wallet = (window as any).solana;\n        const response = await wallet.connect();\n        setPublicKey(response.publicKey.toString());\n        setConnected(true);\n      } catch (err) {\n        console.error('Failed to connect wallet:', err);\n      }\n    } else {\n      alert('Please install Phantom wallet from https://phantom.app/');\n    }\n  };\n\n  const disconnect = async () => {\n    if (typeof window !== 'undefined' && (window as any).solana) {\n      try {\n        await (window as any).solana.disconnect();\n        setPublicKey(null);\n        setConnected(false);\n      } catch (err) {\n        console.error('Failed to disconnect wallet:', err);\n      }\n    }\n  };\n\n  return (\n    <WalletContext.Provider value={{ connected, publicKey, connect, disconnect, connection }}>\n      {children}\n    </WalletContext.Provider>\n  );\n};\n\n// Wallet Button Component\nexport const WalletButton: React.FC = () => {\n  const { connected, publicKey, connect, disconnect } = useWallet();\n  \n  const formatAddress = (addr: string | null) => {\n    if (!addr) return '';\n    return `${addr.slice(0, 4)}...${addr.slice(-4)}`;\n  };\n\n  return (\n    <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\n      {connected ? (\n        <>\n          <div style={{\n            padding: '8px 16px',\n            background: 'white',\n            borderRadius: '8px',\n            color: '#667eea',\n            fontSize: '14px',\n            fontWeight: '600'\n          }}>\n            {formatAddress(publicKey)}\n          </div>\n          <button\n            onClick={disconnect}\n            style={{\n              padding: '8px 16px',\n              background: '#ff6b6b',\n              color: 'white',\n              border: 'none',\n              borderRadius: '8px',\n              cursor: 'pointer',\n              fontSize: '14px',\n              fontWeight: '600'\n            }}\n          >\n            Disconnect\n          </button>\n        </>\n      ) : (\n        <button\n          onClick={connect}\n          style={{\n            padding: '10px 20px',\n            background: 'white',\n            color: '#667eea',\n            border: 'none',\n            borderRadius: '8px',\n            cursor: 'pointer',\n            fontSize: '16px',\n            fontWeight: '600',\n            boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n          }}\n        >\n          Connect Wallet\n        </button>\n      )}\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}